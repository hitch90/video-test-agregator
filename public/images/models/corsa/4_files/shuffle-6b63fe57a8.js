"use strict";var Shuffle=window.shuffle;function arrayIncludes(t,e){return-1!==t.indexOf(e)}function toArray(t){return Array.prototype.slice.call(t)}var Demo=function(t){this.category=toArray(document.querySelectorAll(".js-category button")),this.shuffle=new Shuffle(t,{easing:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",sizer:".the-sizer"}),this.filters={category:[]},this._bindEventListeners()};Demo.prototype._bindEventListeners=function(){this._onColorChange=this._handleColorChange.bind(this),this.category.forEach(function(t){t.addEventListener("click",this._onColorChange)},this)},Demo.prototype._getCurrentColorFilters=function(){return this.category.filter(function(t){return t.classList.contains("active")}).map(function(t){return t.getAttribute("data-value")})},Demo.prototype._handleColorChange=function(t){var e=t.currentTarget;e.classList.contains("active")?e.classList.remove("active"):(this.category.forEach(function(t){t.classList.remove("active")}),e.classList.add("active")),this.filters.category=this._getCurrentColorFilters(),this.filter()},Demo.prototype.filter=function(){this.hasActiveFilters()?this.shuffle.filter(this.itemPassesFilters.bind(this)):this.shuffle.filter(Shuffle.ALL_ITEMS);var t=this;$(".show-all-items").click(function(){t.shuffle.filter(Shuffle.ALL_ITEMS)})},Demo.prototype.hasActiveFilters=function(){return Object.keys(this.filters).some(function(t){return this.filters[t].length>0},this)},Demo.prototype.itemPassesFilters=function(t){var e=this.filters.category,i=t.getAttribute("data-category");return!(e.length>0&&!arrayIncludes(e,i))},document.addEventListener("DOMContentLoaded",function(){window.demo=new Demo(document.querySelector(".js-shuffle"))});